<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Drive Hub</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#0b0b0c">
  <link rel="manifest" href="./manifest.webmanifest">
  <style>
    :root{ --bg:#0b0b0c; --card:#141418; --text:#eaeaf0; --muted:#a5a6ad; --accent:#8ad0ff; }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif}
    .wrap{max-width:1100px;margin:0 auto;padding:18px}
    header{display:flex;align-items:center;gap:12px;justify-content:space-between;margin-bottom:16px}
    h1{font-size:22px;margin:0;font-weight:700}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:14px}
    .tile{background:var(--card);border-radius:16px;padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;text-decoration:none;color:var(--text);box-shadow:0 2px 12px #00000055;border:1px solid #1f1f25;min-height:120px}
    .tile:active{transform:scale(.98)}
    .icon{width:42px;height:42px;border-radius:10px;display:grid;place-items:center;font-size:26px}
    .lbl{font-size:15px;text-align:center}
    .muted{color:var(--muted);font-size:12px}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    button, .btn{appearance:none;border:1px solid #2a2a33;background:#16161b;color:var(--text);padding:10px 12px;border-radius:12px;font-weight:600}
    .note{margin:14px 0 4px;color:var(--muted);font-size:13px}
    footer{margin-top:16px;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Drive Hub</h1>
      <div class="row">
        <button id="fsBtn" title="Toggle full screen">‚§¢ Fullscreen</button>
        <button id="zoomIn" title="Zoom +">A+</button>
        <button id="zoomOut" title="Zoom -">A-</button>
      </div>
    </header>

    <div class="note">Tip: if a service says ‚Äúunsupported browser,‚Äù log in on your phone first and then open it here. Some sites prefer their mobile URLs.</div>

    <section class="grid" id="apps">
      <!-- UK Streaming / News -->
      <a class="tile" href="https://www.bbc.co.uk/iplayer" target="_self" rel="noopener">
        <div class="icon" style="background:#bb1919">üì∫</div>
        <div class="lbl">BBC iPlayer</div>
        <div class="muted">bbc.co.uk</div>
      </a>
      <a class="tile" href="https://www.bbc.co.uk/news" target="_self" rel="noopener">
        <div class="icon" style="background:#1a1a1a">üì∞</div>
        <div class="lbl">BBC News</div>
        <div class="muted">bbc.co.uk/news</div>
      </a>
      <a class="tile" href="https://www.skysports.com/" target="_self" rel="noopener">
        <div class="icon" style="background:#0054a6">üèüÔ∏è</div>
        <div class="lbl">Sky Sports</div>
        <div class="muted">skysports.com</div>
      </a>
      <a class="tile" href="https://www.itv.com/watch" target="_self" rel="noopener">
        <div class="icon" style="background:#4c2be2">itvx</div>
        <div class="lbl">ITV X</div>
        <div class="muted">itv.com</div>
      </a>
      <a class="tile" href="https://www.channel4.com/" target="_self" rel="noopener">
        <div class="icon" style="background:#111">4</div>
        <div class="lbl">Channel 4</div>
        <div class="muted">channel4.com</div>
      </a>

      <!-- Global Streaming -->
      <a class="tile" href="https://www.primevideo.com" target="_self" rel="noopener">
        <div class="icon" style="background:#0f79af">üÖøÔ∏è</div>
        <div class="lbl">Prime Video</div>
        <div class="muted">primevideo.com</div>
      </a>
      <a class="tile" href="https://www.disneyplus.com" target="_self" rel="noopener">
        <div class="icon" style="background:#113ccf">üÖ≥</div>
        <div class="lbl">Disney+</div>
        <div class="muted">disneyplus.com</div>
      </a>
      <a class="tile" href="https://www.nowtv.com" target="_self" rel="noopener">
        <div class="icon" style="background:#00a1e0">‚ñ∂Ô∏è</div>
        <div class="lbl">NOW</div>
        <div class="muted">nowtv.com</div>
      </a>
      <a class="tile" href="https://www.netflix.com" target="_self" rel="noopener">
        <div class="icon" style="background:#b20710">N</div>
        <div class="lbl">Netflix (may block)</div>
        <div class="muted">netflix.com</div>
      </a>
      <a class="tile" href="https://m.youtube.com" target="_self" rel="noopener">
        <div class="icon" style="background:#ff0033">‚ñ∂</div>
        <div class="lbl">YouTube (m)</div>
        <div class="muted">m.youtube.com</div>
      </a>
      <a class="tile" href="https://app.plex.tv/" target="_self" rel="noopener">
        <div class="icon" style="background:#222">üÖø</div>
        <div class="lbl">Plex</div>
        <div class="muted">app.plex.tv</div>
      </a>

      <!-- Gaming / Cloud -->
      <a class="tile" href="https://www.xbox.com/play" target="_self" rel="noopener">
        <div class="icon" style="background:#107c10">üéÆ</div>
        <div class="lbl">Xbox Cloud Gaming</div>
        <div class="muted">xbox.com/play</div>
      </a>
      <a class="tile" href="https://play.geforcenow.com" target="_self" rel="noopener">
        <div class="icon" style="background:#0f0f0f">GFN</div>
        <div class="lbl">GeForce NOW</div>
        <div class="muted">play.geforcenow.com</div>
      </a>

      <!-- Your stuff -->
      <a class="tile" href="https://www.cognitivecharge.com" target="_self" rel="noopener">
        <div class="icon" style="background:#2b6cb0">CC</div>
        <div class="lbl">Cognitive Charge</div>
        <div class="muted">Home</div>
      </a>
      <a class="tile" href="./" target="_self" rel="noopener">
        <div class="icon" style="background:#22543d">üöó</div>
        <div class="lbl">This Hub</div>
        <div class="muted">Bookmark me</div>
      </a>
    </section>

    <footer>
      <p>Owner tips: Use strong LTE/Wi‚ÄëFi. If a site fails, open it once on your phone on the same network, then try again here. Some providers block playback in embedded browsers.</p>
    </footer>
  </div>

  <script>
    // Fullscreen toggle (works on most Chromium builds; Tesla support varies)
    const fsBtn = document.getElementById('fsBtn');
    fsBtn?.addEventListener('click',()=>{
      if (!document.fullscreenElement){
        document.documentElement.requestFullscreen?.();
      } else {
        document.exitFullscreen?.();
      }
    });

    // Simple zoom controls for touch readability
    let zoom = parseFloat(localStorage.getItem('drivehub_zoom')||'1');
    const applyZoom = ()=>{document.body.style.transform=`scale(${zoom})`;document.body.style.transformOrigin='0 0';document.body.style.width = `${100/zoom}%`;localStorage.setItem('drivehub_zoom', String(zoom));};
    applyZoom();
    document.getElementById('zoomIn').addEventListener('click',()=>{zoom=Math.min(1.5, zoom+0.05);applyZoom()});
    document.getElementById('zoomOut').addEventListener('click',()=>{zoom=Math.max(0.85, zoom-0.05);applyZoom()});

    // Register service worker for instant shell load
    if ('serviceWorker' in navigator){
      window.addEventListener('load', ()=>{
        navigator.serviceWorker.register('./sw.js').catch(()=>{});
      });
    }
  </script>
</body>
</html>
